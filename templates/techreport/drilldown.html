{% extends "techreport/report.html" %}

{% block section %}
  {{ super() }}

  <div class="block-m summary">
    <h2>Summary</h2>

    <div class="summary-grid">
      {% set summary = {
        "url": "#adoption",
        "label": "Adoption",
        "value": tech_report_page.sections[0].data.adoption.results[0].dates[0].origins,
        "description": "websites tested using this technology."
      } %}
      {% include "techreport/components/summary_linked.html" %}

      {% set summary = {
        "url": "#cwv",
        "label": "Good CWVs",
        "value": tech_report_page.sections[0].data.good_vitals.results[0].dates[0].good_overall.mobile,
        "description": "of tested origins had overall good Core Web Vitals."
      } %}
      {% include "techreport/components/summary_linked.html" %}
    </div>
  </div>

  <div class="page-data">
    <div class="block-m">
      <h2>{{ tech_report_page.sections[1].title }}</h2>
      <div class="block-description">
        {{ tech_report_page.sections[1].description }}
      </div>

      <div class="card timeseries-container">
        <p class="timeseries-title">Good Core Web Vitals over time</p>
        <p class="timeseries-description">The percentage of origins passing all three Core Web Vitals (LCP, FID, CLS) with a "good" experience. Note that if an origin is missing FID data, it's assessed based on the performance of the remaining metrics.</p>
        <p class="timeseries-time">Latest: {{ tech_report_page.sections[1].data.good_vitals.results[0].dates[0].date }}</p>
        <p>
          Chart comes here:
        </p>
        <ul>
          {% for date in tech_report_page.sections[1].data.good_vitals.results[0].dates %}
            <li>{{date.good_overall.mobile}}</li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>

{% endblock %}