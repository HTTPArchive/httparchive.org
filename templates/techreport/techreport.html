{% extends "main.html" %}

{% block title %}HTTP Archive: Tech Report{% endblock %}

{% block head %}
  {{ super() }}

  <!-- Stylesheets -->
  <link rel="stylesheet" href="{{ get_versioned_filename('/static/css/techreport/general.css') }}" />
  <link rel="stylesheet" href="{{ get_versioned_filename('/static/css/techreport/techreport.css') }}" />
{% endblock %}

{% block report_navigation %}
  <nav class="report-navigation">
      <ul class="navigation-items block-l">
        <li>
          {% set ariaCurrent = "false" %}
          {% if active_page == "landing" %}{% set ariaCurrent = "page" %}{% endif %}
          <a
            href="/reports/techreport/landing"
            aria-current="{{ ariaCurrent }}"
          >
            Home
          </a>
        </li>
        <li>
          {% set ariaCurrent = "false" %}
          {% if active_page == "drilldown" %}{% set ariaCurrent = "page" %}{% endif %}
          <a
            href="/reports/techreport/drilldown"
            aria-current="{{ ariaCurrent }}"
          >
            Drilldown
          </a>
        </li>
        <li>
          {% set ariaCurrent = "false" %}
          {% if active_page == "comparison" %}{% set ariaCurrent = "page" %}{% endif %}
          <a
            href="/reports/techreport/comparison"
            aria-current="{{ ariaCurrent }}"
          >
            Comparison
          </a>
        </li>
      </ul>
  </nav>
{% endblock %}

{% block main %}
  <div class="info-panel">
    <p class="label">Beta</p>
    <p>Changes are still being made to this page.</p>
  </div>
  {% block section %}{% endblock %}

  <!-- Import templates -->
  {% include "techreport/templates/drilldown_header.html" %}
  {% include "techreport/templates/summary_linked.html" %}
  {% include "techreport/templates/table_general.html" %}
  {% include "techreport/templates/table_overview.html" %}
  {% include "techreport/templates/table_overview_multitech.html" %}

{% endblock %}


{% block scripts %}
  {{ super() }}
  <!-- Import web components code -->
  <script src="{{ get_versioned_filename('/static/js/summaryLinked.js') }}" nonce="{{ csp_nonce() }}"></script>
  <script src="{{ get_versioned_filename('/static/js/tableOverview.js') }}" nonce="{{ csp_nonce() }}"></script>
  <script src="{{ get_versioned_filename('/static/js/tableOverviewMulti.js') }}" nonce="{{ csp_nonce() }}"></script>
  <script src="{{ get_versioned_filename('/static/js/tableGeneral.js') }}" nonce="{{ csp_nonce() }}"></script>

  <!-- Import general JS -->
  <script src="{{ get_versioned_filename('/static/js/techreport.js') }}" nonce="{{ csp_nonce() }}"></script>
  <script nonce="{{ csp_nonce() }}">
    const reportPage = {{ tech_report_page|tojson }};
    const config = {{ tech_report_config|tojson }};
    const labels = {{ tech_report_labels|tojson }};

    const techReport = new TechReport('{{ active_page }}', reportPage, config, labels);
  </script>
{% endblock %}
